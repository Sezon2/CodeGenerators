@echo off
rem ************************************************************************************************
rem ★初回ビルドチェック
rem ************************************************************************************************
rem ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
rem ■cpp_settings_commonの確認
rem ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
if not exist "..\common\cpp_settings_common.cmd" (
	echo 「cpp_settings_common」が未設定です。
	echo 「main_app\CPP\settings\common」のジョブで初期設定を行なってください。
	exit -1
)
rem ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
rem ************************************************************************************************

rem ************************************************************************************************
rem ★初回処理
rem ************************************************************************************************
call ..\jenkins_settings.cmd
rem ------------------------------------------------------------------------------------------------
set PATH=%PATH%;%LibDirPath%
rem ************************************************************************************************

rem ************************************************************************************************
rem ★全ての設定の結合
rem ************************************************************************************************
copy ..\common\cpp_settings_common.cmd cpp_settings.cmd /B /Y
copy cpp_settings.cmd+..\jenkins_settings.cmd cpp_settings.cmd /B /Y
copy cpp_settings.cmd ..\cpp_settings.cmd /B /Y
rem ************************************************************************************************

rem ************************************************************************************************
rem ★プロジェクト毎のCodeGeneratorに適応
rem ************************************************************************************************
if exist "setting_copys\." (
	dir setting_copys\*.cmd /B>setting_copys.cmd
	mfind /W /Q "/^/call setting_copys\\/g" setting_copys.cmd
	call setting_copys.cmd
)
rem ************************************************************************************************
