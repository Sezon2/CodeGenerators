@echo off
rem ************************************************************************************************
rem ★初回ビルドチェック
rem ************************************************************************************************
rem ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
rem ■jenkins_include_pathsの確認
rem ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
if not exist "..\jenkins_include_paths\jenkins_include_paths.cmd" (
	echo 「jenkins_include_paths」が未設定です。
	echo 「jenkins_include_paths」のジョブで初期設定を行なってください。
	exit -1
)
rem ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
rem ************************************************************************************************

rem ************************************************************************************************
rem ★初回処理
rem ************************************************************************************************
call ..\jenkins_include_paths\jenkins_include_paths.cmd
rem ------------------------------------------------------------------------------------------------
set PATH=%PATH%;%LibDirPath%
rem ************************************************************************************************

rem ************************************************************************************************
rem ★全ての設定の結合
rem ************************************************************************************************
rem copy jenkins_include_paths.cmd+LibDirPath.cmd jenkins_include_paths.cmd /B /Y
copy ..\jenkins_include_paths\jenkins_include_paths.cmd ..\jenkins_settings.cmd /B /Y
rem ************************************************************************************************

rem ************************************************************************************************
rem ★言語毎のCodeGeneratorに適応
rem ************************************************************************************************
if exist "setting_copys\." (
	dir setting_copys\*.cmd /B>setting_copys.cmd
	mfind /W /Q "/^/call setting_copys\\/g" setting_copys.cmd
	call setting_copys.cmd
)
rem ************************************************************************************************
