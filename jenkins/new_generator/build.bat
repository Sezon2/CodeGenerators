@echo off
rem ************************************************************************************************
rem š“ü—Íƒ`ƒFƒbƒN
rem ************************************************************************************************
rem ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
rem ¡ì¬‚·‚éCodeGenerator‚Ì–¼‘O
rem ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
if "%GeneratorName%"=="" (
	echo uGeneratorNamev‚Ì“ü—Í‚Í•K{‚Å‚·B
	exit -1
)
rem ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
rem ************************************************************************************************

rem ************************************************************************************************
rem šİ’èŠm”F
rem ************************************************************************************************
echo İ’è‚ÌŠm”F’†...
rem ------------------------------------------------------------------------------------------------
if not exist "..\settings\jenkins_settings.cmd" (
	echo ‹¤’Êİ’è‚ª¶¬‚³‚ê‚Ä‚¢‚Ü‚¹‚ñB
	echo usettings\jenkins_settingsv‚ÌƒWƒ‡ƒu‚Å‰Šúİ’è‚ğs‚È‚Á‚Ä‚­‚¾‚³‚¢B
	exit -1
)
rem ************************************************************************************************

rem ************************************************************************************************
rem š‰‰ñˆ—
rem ************************************************************************************************
call ..\settings\jenkins_settings.cmd
rem ------------------------------------------------------------------------------------------------
set PATH=%PATH%;%LibDirPath%
rem ------------------------------------------------------------------------------------------------
if exist "..\main_app\%GeneratorName%\." (
	echo u%GeneratorName%v‚±‚ÌGenerator‚Íì¬Ï‚İ‚Å‚·B
	exit -1
)
rem ************************************************************************************************


rem `````````````````````````````````````````````````````
rem «ƒƒCƒ“ˆ—

rem ************************************************************************************************
rem šV‚µ‚¢CodeGenerator‚ÌƒtƒHƒ‹ƒ_‚ğì¬
rem ************************************************************************************************
if not exist "..\main_app\." mkdir ..\main_app
if not exist "..\main_app\%GeneratorName%\." mkdir ..\main_app\%GeneratorName%
if not exist "..\main_app\%GeneratorName%\settings\." mkdir ..\main_app\%GeneratorName%\settings
rem ************************************************************************************************

rem ************************************************************************************************
rem š‹¤’Êİ’è‚ÌƒRƒs[
rem ************************************************************************************************
copy ..\settings\jenkins_settings.cmd ..\main_app\%GeneratorName%\settings\jenkins_settings.cmd /Y
rem ************************************************************************************************


rem `````````````````````````````````````````````````````
rem «‘¼ƒWƒ‡ƒuƒTƒ|[ƒgŠÖ˜A

rem ************************************************************************************************
rem šusettingsv->ujenkins_settingsv‚ÌƒWƒ‡ƒuİ’èXVæ’Ç‰Á
rem ************************************************************************************************
if not exist "..\settings\jenkins_settings\setting_copys\." mkdir ..\settings\jenkins_settings\setting_copys
rem ------------------------------------------------------------------------------------------------
echo copy ..\jenkins_settings.cmd ..\..\main_app\%GeneratorName%\settings\jenkins_settings.cmd /Y>..\settings\jenkins_settings\setting_copys\%GeneratorName%.cmd
rem ************************************************************************************************


rem `````````````````````````````````````````````````````
rem «I—¹ˆ—

rem ************************************************************************************************
rem šŠ®—¹ƒƒbƒZ[ƒW
rem ************************************************************************************************
echo u%GeneratorName%v‚ÌV‹Kì¬‚ªŠ®—¹‚µ‚Ü‚µ‚½B
echo jenkins‚ÉˆÈ‰º‚ÌƒtƒHƒ‹ƒ_‚ğì¬‚µ‚Ä‚­‚¾‚³‚¢B
echo umain_appv
echo umain_app\%GeneratorName%v
echo umain_app\%GeneratorName%\settingsv
rem ************************************************************************************************
